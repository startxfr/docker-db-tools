app:
  extends:
    file: docker-compose-abstract.yml
    service: app
  container_name: "sx-dbtools"
  links:
    - db-mysql:dbm
    - db-couchbase:dbc
  environment:
   - MYSQL_DATABASE=dbtest1;dbtest2;dbtest3
   - MYSQL_ADMIN=root:rootPassword
   - MYSQL_USERS=dbuser1:pwdtest1,dbuser2:pwdtest2,dbuser3
   - COUCHBASE_ADMIN=root:rootPassword
   - COUCHBASE_BUCKET=cbtest1;cbtest2
   - COUCHBASE_USERS=cbuser1:pwdtest1,cbuser2
  volumes:
    - "./sample/dump:/dump:z"
    - "./sample/backup:/backup:z"
  command: ["info"]

db-mysql:
  extends:
    file: docker-compose-abstract.yml
    service: db-mysql
  container_name: "sx-dbtools_mysql"
  environment:
   - MYSQL_ROOT_PASSWORD=rootPassword
   
db-couchbase:
  extends:
    file: docker-compose-abstract.yml
    service: db-couchbase
  container_name: "sx-dbtools_couchbase"